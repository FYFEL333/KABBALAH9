
import telebot
import json
import random

bot = telebot.TeleBot("7710101379:AAEKHFNlb7kRO-jCfu9agOWKwQZsk8UwNNI")

with open("psalms.json", encoding="utf-8") as f:
    psalms = json.load(f)

with open("calendar.json", encoding="utf-8") as f:
    calendar = json.load(f)

with open("wisdom.json", encoding="utf-8") as f:
    wisdom = json.load(f)

with open("books.json", encoding="utf-8") as f:
    books = json.load(f)

with open("prayers.json", encoding="utf-8") as f:
    prayers = json.load(f)

@bot.message_handler(commands=["start"])
def send_welcome(message):
    markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("–ü—Å–∞–ª–º—ã", "–ú–æ–ª–∏—Ç–≤—ã", "–ö–Ω–∏–≥–∏")
    markup.add("–ö–∞–ª–µ–Ω–¥–∞—Ä—å", "–ú—É–¥—Ä–æ—Å—Ç—å –¥–Ω—è")
    bot.send_message(message.chat.id, "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í—ã–±–µ—Ä–∏ —Ä–∞–∑–¥–µ–ª:", reply_markup=markup)

@bot.message_handler(func=lambda m: True)
def menu_handler(message):
    if message.text == "–ü—Å–∞–ª–º—ã":
        markup = telebot.types.InlineKeyboardMarkup()
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 1", callback_data="psalm_1"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 2", callback_data="psalm_2"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 3", callback_data="psalm_3"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 4", callback_data="psalm_4"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 5", callback_data="psalm_5"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 6", callback_data="psalm_6"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 7", callback_data="psalm_7"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 8", callback_data="psalm_8"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 9", callback_data="psalm_9"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 10", callback_data="psalm_10"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 11", callback_data="psalm_11"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 12", callback_data="psalm_12"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 13", callback_data="psalm_13"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 14", callback_data="psalm_14"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 15", callback_data="psalm_15"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 16", callback_data="psalm_16"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 17", callback_data="psalm_17"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 18", callback_data="psalm_18"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 19", callback_data="psalm_19"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 20", callback_data="psalm_20"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 21", callback_data="psalm_21"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 22", callback_data="psalm_22"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 23", callback_data="psalm_23"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 24", callback_data="psalm_24"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 25", callback_data="psalm_25"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 26", callback_data="psalm_26"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 27", callback_data="psalm_27"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 28", callback_data="psalm_28"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 29", callback_data="psalm_29"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 30", callback_data="psalm_30"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 31", callback_data="psalm_31"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 32", callback_data="psalm_32"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 33", callback_data="psalm_33"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 34", callback_data="psalm_34"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 35", callback_data="psalm_35"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 36", callback_data="psalm_36"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 37", callback_data="psalm_37"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 38", callback_data="psalm_38"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 39", callback_data="psalm_39"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 40", callback_data="psalm_40"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 41", callback_data="psalm_41"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 42", callback_data="psalm_42"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 43", callback_data="psalm_43"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 44", callback_data="psalm_44"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 45", callback_data="psalm_45"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 46", callback_data="psalm_46"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 47", callback_data="psalm_47"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 48", callback_data="psalm_48"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 49", callback_data="psalm_49"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 50", callback_data="psalm_50"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 51", callback_data="psalm_51"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 52", callback_data="psalm_52"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 53", callback_data="psalm_53"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 54", callback_data="psalm_54"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 55", callback_data="psalm_55"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 56", callback_data="psalm_56"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 57", callback_data="psalm_57"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 58", callback_data="psalm_58"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 59", callback_data="psalm_59"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 60", callback_data="psalm_60"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 61", callback_data="psalm_61"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 62", callback_data="psalm_62"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 63", callback_data="psalm_63"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 64", callback_data="psalm_64"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 65", callback_data="psalm_65"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 66", callback_data="psalm_66"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 67", callback_data="psalm_67"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 68", callback_data="psalm_68"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 69", callback_data="psalm_69"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 70", callback_data="psalm_70"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 71", callback_data="psalm_71"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 72", callback_data="psalm_72"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 73", callback_data="psalm_73"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 74", callback_data="psalm_74"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 75", callback_data="psalm_75"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 76", callback_data="psalm_76"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 77", callback_data="psalm_77"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 78", callback_data="psalm_78"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 79", callback_data="psalm_79"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 80", callback_data="psalm_80"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 81", callback_data="psalm_81"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 82", callback_data="psalm_82"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 83", callback_data="psalm_83"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 84", callback_data="psalm_84"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 85", callback_data="psalm_85"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 86", callback_data="psalm_86"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 87", callback_data="psalm_87"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 88", callback_data="psalm_88"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 89", callback_data="psalm_89"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 90", callback_data="psalm_90"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 91", callback_data="psalm_91"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 92", callback_data="psalm_92"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 93", callback_data="psalm_93"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 94", callback_data="psalm_94"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 95", callback_data="psalm_95"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 96", callback_data="psalm_96"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 97", callback_data="psalm_97"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 98", callback_data="psalm_98"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 99", callback_data="psalm_99"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 100", callback_data="psalm_100"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 101", callback_data="psalm_101"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 102", callback_data="psalm_102"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 103", callback_data="psalm_103"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 104", callback_data="psalm_104"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 105", callback_data="psalm_105"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 106", callback_data="psalm_106"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 107", callback_data="psalm_107"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 108", callback_data="psalm_108"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 109", callback_data="psalm_109"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 110", callback_data="psalm_110"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 111", callback_data="psalm_111"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 112", callback_data="psalm_112"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 113", callback_data="psalm_113"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 114", callback_data="psalm_114"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 115", callback_data="psalm_115"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 116", callback_data="psalm_116"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 117", callback_data="psalm_117"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 118", callback_data="psalm_118"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 119", callback_data="psalm_119"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 120", callback_data="psalm_120"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 121", callback_data="psalm_121"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 122", callback_data="psalm_122"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 123", callback_data="psalm_123"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 124", callback_data="psalm_124"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 125", callback_data="psalm_125"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 126", callback_data="psalm_126"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 127", callback_data="psalm_127"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 128", callback_data="psalm_128"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 129", callback_data="psalm_129"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 130", callback_data="psalm_130"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 131", callback_data="psalm_131"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 132", callback_data="psalm_132"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 133", callback_data="psalm_133"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 134", callback_data="psalm_134"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 135", callback_data="psalm_135"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 136", callback_data="psalm_136"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 137", callback_data="psalm_137"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 138", callback_data="psalm_138"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 139", callback_data="psalm_139"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 140", callback_data="psalm_140"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 141", callback_data="psalm_141"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 142", callback_data="psalm_142"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 143", callback_data="psalm_143"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 144", callback_data="psalm_144"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 145", callback_data="psalm_145"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 146", callback_data="psalm_146"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 147", callback_data="psalm_147"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 148", callback_data="psalm_148"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 149", callback_data="psalm_149"))
        markup.add(telebot.types.InlineKeyboardButton("–ü—Å–∞–ª–æ–º 150", callback_data="psalm_150"))
        bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏ –ø—Å–∞–ª–æ–º:", reply_markup=markup)
    elif message.text == "–ú–æ–ª–∏—Ç–≤—ã":
        for p in prayers:
            text = f"*{p['title']}*\n\n{p['text_he']}\n\n{p['text_ru']}"
            bot.send_message(message.chat.id, text, parse_mode="Markdown")
    elif message.text == "–ö–Ω–∏–≥–∏":
        for b in books:
            text = f"*{b['title']}* ‚Äî {b['author']}\n{b['description']}"
            bot.send_message(message.chat.id, text, parse_mode="Markdown")
    elif message.text == "–ö–∞–ª–µ–Ω–¥–∞—Ä—å":
        for c in calendar:
            text = f"üìÖ {c['date']} ‚Äî *{c['event']}*\n{c['description']}"
            bot.send_message(message.chat.id, text, parse_mode="Markdown")
    elif message.text == "–ú—É–¥—Ä–æ—Å—Ç—å –¥–Ω—è":
        q = random.choice(wisdom)
        bot.send_message(message.chat.id, f"¬´{q['quote']}¬ª\n‚Äî {q['author']}")

@bot.callback_query_handler(func=lambda call: call.data.startswith("psalm_"))
def send_psalm(call):
    num = int(call.data.split("_")[1])
    p = psalms[num - 1]
    text = f"*–ü–°–ê–õ–û–ú {p['number']}* / {p['title_he']}\n"            f"**{p['title_ru']}**\n\n"            f"*–ò–≤—Ä–∏—Ç:*\n{p['text_he']}\n\n"            f"*–ü–µ—Ä–µ–≤–æ–¥:*\n{p['text_ru']}\n\n"            f"_–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:_ {p['comment']}"
    bot.send_message(call.message.chat.id, text, parse_mode="Markdown")

bot.polling()
